<div class="bg-white">
  <div class="d-flex container justify-content-between align-items-center py-4">
    <%= partial("links.html") %>
    <a href="<%= newUsersPath() %>" class="btn btn-info px-4 py-2">Add User</a>
  </div>
</div>

<div class="bg-light">
  <%= partial("flash.html") %>
  <div class="container py-5">
    <p class="text-muted">
      <b class="h3"><%= len(usersTotal) %></b> <%= isPlural(len(users), "User") %>
    </p>
    <table class="table border rounded bg-white">
      <thead class="text-muted">
        <tr>
          <th>
            <div class="d-flex align-items-center">
              <span class="mr-2">Name</span>
              <div class="d-flex flex-column">
                <a class="btn-sort-up" href="<%= usersPath({column: "first_name", direction: "asc"}) %>"><i class="fas fa-angle-up"></i></a>
                <a class="btn-sort-down" href="<%= usersPath({column: "first_name", direction: "desc"}) %>"><i class="fas fa-angle-down"></i></a>
              </div>
            </div>
          </th>
          <th>
            <div class="d-flex align-items-center">
              <span class="mr-2">Email</span>
              <div class="d-flex flex-column">
                <a class="btn-sort-up" href="<%= usersPath({column: "email", direction: "asc"}) %>"><i class="fas fa-angle-up"></i></a>
                <a class="btn-sort-down" href="<%= usersPath({column: "email", direction: "desc"}) %>"><i class="fas fa-angle-down"></i></a>
              </div>
            </div>
          </th>
          <th>
            <div class="d-flex align-items-center">
              <span class="mr-2">Role</span>
              <div class="d-flex flex-column">
                <a class="btn-sort-up" href="<%= usersPath({column: "role", direction: "asc"}) %>"><i class="fas fa-angle-up"></i></a>
                <a class="btn-sort-down" href="<%= usersPath({column: "role", direction: "desc"}) %>"><i class="fas fa-angle-down"></i></a>
              </div>
            </div>
          </th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <%= for (user) in users { %>
        <tr>
          <td class="title-device"><%= user.FirstName %> <%= user.LastName %></td>
          <td class="td-info"><%= user.Email %></td>
          <td class="td-info"><%= user.Role %></td>
          <td>
            <div class="dropdown">
              <button class="btn-more" type="button" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-ellipsis-h text-muted"></i>
              </button>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item btn-dropwdown" href="<%= userPath({ user_id: user.ID }) %>">View</a>
                <a class="dropdown-item btn-dropwdown" href="<%= editUserPath({ user_id: user.ID }) %>">Edit</a>
                <a class="dropdown-item btn-delete" href="<%= userPath({ user_id: user.ID }) %>" data-method="DELETE"
                  data-confirm="Are you sure?">Delete</a>
              </div>
            </div>
          </td>
        </tr>
        <% } %>
      </tbody>
    </table>
    <div class="d-flex justify-content-end text-center">
      <%= paginator(pagination) %>
    </div>
  </div>
</div>